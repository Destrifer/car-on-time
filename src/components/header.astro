---
import { Picture } from "astro:assets";
import logo from "@img/logo.png";
---

<header class="bg-white shadow-lg">
	<div class="flex items-center justify-between py-4 px-8">
		<!-- Logo -->
		<div>
			<a href="/" rel="noopener noreferrer">
				<Picture src={logo} formats={["avif", "webp"]} alt="Car on time" />
			</a>
		</div>

		<!-- Burger Menu -->
		<div class="sm:hidden relative">
			<input type="checkbox" id="burgerToggle" class="hidden" />
			<label for="burgerToggle" class="cursor-pointer">
				<svg
					class="w-8 h-8"
					fill="none"
					stroke="currentColor"
					viewBox="0 0 24 24"
					xmlns="http://www.w3.org/2000/svg"
				>
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						stroke-width="2"
						d="M4 6h16M4 12h16m-7 6h7"></path>
				</svg>
			</label>

			<!-- Mobile Menu -->
			<nav id="mobileMenu" class="absolute right-0 mt-2 hidden">
				<a href="#" class="block px-4 py-2">Home</a>
				<a href="#" class="block px-4 py-2">About</a>

				<!-- Dropdown (Always expanded) -->
				<div>
					<span class="block px-4 py-2">Services</span>
					<div class="pl-4">
						<a href="#" class="block px-4 py-2">Service 1</a>
						<a href="#" class="block px-4 py-2">Service 2</a>
						<a href="#" class="block px-4 py-2">Service 3</a>
					</div>
				</div>

				<a href="#" class="block px-4 py-2">Contact</a>
			</nav>
		</div>

		<!-- Main Menu (for larger screens) -->
		<nav class="hidden sm:flex items-center space-x-6">
			<a href="/">Главная</a>
			<a href="/rent-terms">Условия аренды</a>

			<!-- Dropdown -->
			<div class="relative group">
				<button>Парк авто</button>
				<div
					class="absolute hidden bg-white shadow-lg rounded-md group-hover:block"
				>
					<a href="#" class="block px-2 py-2">Комфорт класс</a>
					<a href="#" class="block px-2 py-2">Бизнес</a>
					<a href="#" class="block px-2 py-2">Промо</a>
					<a href="#" class="block px-2 py-2">Кроссоверы</a>
					<a href="#" class="block px-2 py-2">Люкс</a>
					<a href="#" class="block px-2 py-2">Внедорожник</a>
					<a href="#" class="block px-2 py-2">Минивены</a>
				</div>
			</div>
			<a href="/contact">Контакты</a>
		</nav>
	</div>
</header>

<style>
	/* Открытие бургер-меню при активации чекбокса */
	#burgerToggle:checked ~ nav {
		display: block;
	}

	/* Основной стиль меню */
	nav a,
	nav button {
		display: inline-block;
		padding: 0.5rem 1rem;
		text-decoration: none;
		color: black;
		font-weight: 500;
		position: relative;
		border-top: 2px solid transparent;
		transition: all 0.3s ease;
	}

	/* Эффект при наведении */
	nav a:hover,
	nav button:hover {
		color: red;
		transform: scale(1.05);
	}

	/* Полоса сверху */
	nav > a:hover::before,
	nav button:hover::before {
		content: "";
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 2px;
		background-color: red;
		animation: slideIn 0.3s forwards;
	}

	/* Анимация появления полосы */
	@keyframes slideIn {
		0% {
			width: 0;
		}
		100% {
			width: 100%;
		}
	}
</style>
