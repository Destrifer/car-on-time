---
import { Picture } from "astro:assets";
import Button from "./Button.astro";
import bmw from "@img/bmw.png";
import camaro from "@img/camaro.png";
---

<div
	class="siema-container relative w-full md:h-[400px] h-auto md:overflow-hidden"
>
	<div class="siema w-full h-full">
		<!-- Первый слайд -->
		<div class="flex flex-col md:flex-row w-full h-full first">
			<!-- Левая часть с текстом по центру -->
			<div
				class="w-full md:w-1/2 flex items-center justify-center text-center flex-col gap-y-4"
			>
				<p class="text-4xl font-black text-white drop-shadow-md">
					АРЕНДА АВТО В КРЫМУ
				</p>
				<p class="text-5xl font-black text-red-600">+7 (978) 955-60-60</p>
				<p class="text-2xl text-white drop-shadow-md">
					Стойка в терминале аэропорт Симферополь
				</p>
				<Button title="Наш автопарк" url="/park" />
			</div>

			<!-- Правая часть с изображением, ограниченным по высоте -->
			<div class="w-full md:w-1/2 flex items-center justify-center z-10">
				<Picture
					src={bmw}
					formats={["avif", "webp"]}
					alt="Car on time"
					class="max-h-[400px] object-contain"
				/>
			</div>
		</div>

		<!-- Второй слайд -->
		<div class="flex flex-col md:flex-row w-full h-full second">
			<div
				class="w-full md:w-1/2 flex items-center justify-center text-center flex-col gap-y-4"
			>
				<p class="text-4xl font-black text-white drop-shadow-md">
					АРЕНДА АВТО В КРЫМУ
				</p>
				<p class="text-5xl font-black text-yellow-400">+7 (978) 955-60-60</p>
				<p class="text-2xl text-white drop-shadow-md">
					Стойка в терминале аэропорт Симферополь
				</p>
				<Button title="Наш автопарк" url="/park" styleClass="two" />
			</div>

			<div class="w-full md:w-1/2 flex items-center justify-center z-10">
				<Picture
					src={camaro}
					formats={["avif", "webp"]}
					alt="Car on time"
					class="max-h-[400px] object-contain"
				/>
			</div>
		</div>
	</div>

	<!-- Кнопки навигации -->
	<button
		class="prev absolute left-4 top-1/2 transform -translate-y-1/2 bg-black text-white w-10 h-10 rounded-full flex items-center justify-center"
	>
		<!-- Левая стрелочка -->
		<span
			class="inline-block transform rotate-[315deg] border-t-2 border-l-2 border-white w-3 h-3"
		></span>
	</button>

	<button
		class="next absolute right-4 top-1/2 transform -translate-y-1/2 bg-black text-white w-10 h-10 rounded-full flex items-center justify-center"
	>
		<!-- Правая стрелочка -->
		<span
			class="inline-block transform rotate-[135deg] border-t-2 border-l-2 border-white w-3 h-3"
		></span>
	</button>
</div>
<style>
	.first {
		background: linear-gradient(
			180deg,
			#a2dff7 0%,
			#3f92d9 40%,
			#0c67b5 70%,
			#004e8f 100%
		);
		background-repeat: no-repeat;
		background-size: 100% 100%;
		height: 100%; /* Заменено на 100% для родительского элемента */
		margin: 0;
		overflow: hidden;
		position: relative;
	}

	.first::before {
		content: "";
		position: absolute;
		width: 200%;
		height: 60%;
		background: radial-gradient(
			circle at 30% 30%,
			rgba(162, 223, 247, 0.5),
			transparent 60%
		);
		top: -20%;
		left: -50%;
		transform: rotate(20deg);
		z-index: 1;
	}

	.first::after {
		content: "";
		position: absolute;
		width: 200%;
		height: 40%;
		background: radial-gradient(
			circle at 70% 70%,
			rgba(63, 146, 217, 0.5),
			transparent 70%
		);
		bottom: -10%;
		left: -50%;
		transform: rotate(-20deg);
		z-index: 1;
	}

	.second {
		background: linear-gradient(
			180deg,
			#4b0000 0%,
			#7e0000 40%,
			#a30000 70%,
			#d40000 100%
		);
		background-repeat: no-repeat;
		background-size: 100% 100%;
		height: 100%;
		margin: 0;
		overflow: hidden;
		position: relative;
	}

	.second::before {
		content: "";
		position: absolute;
		width: 200%;
		height: 60%;
		background: radial-gradient(
			circle at 30% 30%,
			rgba(144, 0, 0, 0.5),
			transparent 60%
		);
		top: -20%;
		left: -50%;
		transform: rotate(20deg);
		z-index: 1;
	}

	.second::after {
		content: "";
		position: absolute;
		width: 200%;
		height: 40%;
		background: radial-gradient(
			circle at 70% 70%,
			rgba(179, 0, 0, 0.5),
			transparent 70%
		);
		bottom: -10%;
		left: -50%;
		transform: rotate(-20deg);
		z-index: 1;
	}
	:global(.two) {
		background-color: #0310d7 !important;
		color: white !important;
	}
	:global(.two:hover) {
		background-color: yellow !important;
		color: black !important;
	}
</style>
<script>
	import Siema from "siema";

	document.addEventListener("DOMContentLoaded", () => {
		const mySiema = new Siema({
			duration: 500,
			easing: "ease-out",
			perPage: 1,
			startIndex: 0,
			draggable: true,
			multipleDrag: true,
			threshold: 20,
			loop: true,
		});

		// Добавить навигацию
		document
			.querySelector(".prev")
			.addEventListener("click", () => mySiema.prev());
		document
			.querySelector(".next")
			.addEventListener("click", () => mySiema.next());
	});
</script>
